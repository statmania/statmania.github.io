<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Stylish Timer</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body {
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      height: 100vh; margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #141e30, #243b55); color: #f5f5f5;
    }
    h2 { margin-bottom: 10px; font-weight: 400; }
    #timerDisplay {
      font-size: 5em; margin: 20px; font-family: monospace;
      color: #fff; text-shadow: 0 0 10px rgba(255,255,255,0.3);
    }
    .inputs {
      display: flex; gap: 20px; margin: 15px; flex-wrap: wrap; justify-content: center;
    }
    select, input[type=datetime-local] {
      padding: 8px; border: none; border-radius: 4px;
      font-size: 1em;
    }
    .controls {
      display: flex; gap: 12px; justify-content: center; margin-top: 15px;
    }
    button {
      background: rgba(255,255,255,0.1);
      border: none; border-radius: 8px; padding: 12px; cursor: pointer;
      color: white; font-size: 1.2em;
      transition: background 0.3s;
    }
    button:hover { background: rgba(255,255,255,0.3); }
    #exitFullscreenBtn { display: none; margin-top: 20px; }
  </style>
</head>
<body>
  <h2>Stylish Timer</h2>

  <div class="inputs">
    <div>
      <label>Duration</label><br>
      <select id="hours"></select> :
      <select id="minutes"></select> :
      <select id="seconds"></select>
    </div>
    <div>
      <label>Target Date-Time</label><br>
      <input type="datetime-local" id="dateTimeInput">
    </div>
  </div>

  <div id="timerDisplay">00:00:00</div>

  <div class="controls" id="controlButtons">
    <button id="startBtn" title="Start"><i class="fas fa-play"></i></button>
    <button id="pauseBtn" title="Pause"><i class="fas fa-pause"></i></button>
    <button id="resumeBtn" title="Resume"><i class="fas fa-play-circle"></i></button>
    <button id="resetBtn" title="Reset"><i class="fas fa-rotate-left"></i></button>
    <button id="fullscreenBtn" title="Fullscreen"><i class="fas fa-expand"></i></button>
  </div>

  <button id="exitFullscreenBtn" title="Exit Fullscreen"><i class="fas fa-compress"></i></button>

  <script>
    let intervalId, remaining = 0, targetTime = null, paused = false;

    const display = document.getElementById("timerDisplay");
    const hoursSel = document.getElementById("hours");
    const minutesSel = document.getElementById("minutes");
    const secondsSel = document.getElementById("seconds");
    const dateTimeInput = document.getElementById("dateTimeInput");

    // Populate dropdowns
    for (let i=0;i<24;i++) hoursSel.add(new Option(i.toString().padStart(2,"0"), i));
    for (let i=0;i<60;i++) {
      minutesSel.add(new Option(i.toString().padStart(2,"0"), i));
      secondsSel.add(new Option(i.toString().padStart(2,"0"), i));
    }

    function format(sec) {
      if (sec < 0) return "00:00:00";
      const h = Math.floor(sec / 3600).toString().padStart(2,"0");
      const m = Math.floor((sec % 3600) / 60).toString().padStart(2,"0");
      const s = (sec % 60).toString().padStart(2,"0");
      return `${h}:${m}:${s}`;
    }

    function updateDisplay() {
      if (targetTime) remaining = Math.floor((targetTime - Date.now()) / 1000);
      display.textContent = format(remaining);
      if (remaining <= 0) {
        clearInterval(intervalId);
        display.textContent = "â° Time up!";
      }
    }

    document.getElementById("startBtn").onclick = () => {
      clearInterval(intervalId); paused = false;
      if (dateTimeInput.value) {
        targetTime = new Date(dateTimeInput.value).getTime();
      } else {
        const h = +hoursSel.value, m = +minutesSel.value, s = +secondsSel.value;
        remaining = h*3600 + m*60 + s;
        targetTime = Date.now() + remaining*1000;
      }
      updateDisplay();
      intervalId = setInterval(updateDisplay, 1000);
    };

    document.getElementById("pauseBtn").onclick = () => {
      if (!paused) { clearInterval(intervalId); paused = true; }
    };

    document.getElementById("resumeBtn").onclick = () => {
      if (paused) {
        targetTime = Date.now() + remaining*1000;
        intervalId = setInterval(updateDisplay, 1000);
        paused = false;
      }
    };

    document.getElementById("resetBtn").onclick = () => {
      clearInterval(intervalId); display.textContent="00:00:00";
      remaining=0; targetTime=null; paused=false;
      dateTimeInput.value=""; hoursSel.value="0"; minutesSel.value="0"; secondsSel.value="0";
    };

    document.getElementById("fullscreenBtn").onclick = () => {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen();
      }
    };

    document.getElementById("exitFullscreenBtn").onclick = () => {
      if (document.fullscreenElement) document.exitFullscreen();
    };

    document.addEventListener("fullscreenchange", () => {
      if (document.fullscreenElement) {
        document.getElementById("controlButtons").style.display="none";
        document.getElementById("exitFullscreenBtn").style.display="block";
      } else {
        document.getElementById("controlButtons").style.display="flex";
        document.getElementById("exitFullscreenBtn").style.display="none";
      }
    });
  </script>
</body>
</html>
